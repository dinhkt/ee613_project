{"ast":null,"code":"var _jsxFileName = \"/home/tuyen/term_project/movie-seat-booking/src/components/Seat.js\";\nimport React, { useContext } from 'react';\nimport MovieContext from \"../contexts/MovieContext\";\nimport './styles/Seat.css';\n\nconst Seat = props => {\n  const {\n    movie,\n    changeState,\n    chosenSeats\n  } = useContext(MovieContext);\n  const seatNumber = props.seatno;\n  const seatStatus = props.seatColor ? props.seatColor : \"seat-grey\";\n\n  const seatClickHandler = (event, seatNumber) => {\n    event.stopPropagation();\n    const seatColor = document.querySelector(`.seat-${seatNumber}`).classList;\n\n    if (chosenSeats.includes(seatNumber)) {\n      const newMovieSeats = chosenSeats.filter(seat => {\n        return seat !== seatNumber;\n      });\n      seatColor.remove(\"seat-orange\");\n      seatColor.add(\"seat-grey\");\n      changeState(newMovieSeats);\n    } else {\n      seatColor.remove(\"seat-grey\");\n      seatColor.add(\"seat-orange\");\n      changeState([...chosenSeats, seatNumber]);\n    }\n  }; // const { movies } = useContext(MovieContext)\n  // const context = useContext(MovieContext)\n  // const seatNumber = props.seatno\n  // const seatStatus = props.seatColor ? props.seatColor : \"seat-grey\"\n  // const seatClickHandler = (event, seatNumber) => {\n  //     event.stopPropagation()\n  //     const seatColor = document.querySelector(`.seat-${seatNumber}`).classList\n  //     if (movies.seatNumbers.includes(seatNumber)) {\n  //         const newMovieSeats = movies.seatNumbers.filter((seat) => {\n  //             return seat !== seatNumber\n  //         })\n  //         seatColor.remove(\"seat-orange\")\n  //         seatColor.add(\"seat-grey\")\n  //         context.changeState({ ...movies, seatNumbers: newMovieSeats, totalSeats: movies.totalSeats - 1 })\n  //     } else {\n  //         seatColor.remove(\"seat-grey\")\n  //         seatColor.add(\"seat-orange\")\n  //         context.changeState({ ...movies, seatNumbers: [...movies.seatNumbers, seatNumber], totalSeats: movies.totalSeats + 1 })\n  //     }\n  // }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-2 col-md-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: `seat seat-${seatNumber} ${seatStatus}`,\n    onClick: e => seatClickHandler(e, props.seatno),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default Seat;","map":{"version":3,"sources":["/home/tuyen/term_project/movie-seat-booking/src/components/Seat.js"],"names":["React","useContext","MovieContext","Seat","props","movie","changeState","chosenSeats","seatNumber","seatno","seatStatus","seatColor","seatClickHandler","event","stopPropagation","document","querySelector","classList","includes","newMovieSeats","filter","seat","remove","add","e"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AAEA,OAAO,mBAAP;;AAEA,MAAMC,IAAI,GAAIC,KAAD,IAAW;AACpB,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,WAAT;AAAsBC,IAAAA;AAAtB,MAAsCN,UAAU,CAACC,YAAD,CAAtD;AACA,QAAMM,UAAU,GAAGJ,KAAK,CAACK,MAAzB;AACA,QAAMC,UAAU,GAAGN,KAAK,CAACO,SAAN,GAAkBP,KAAK,CAACO,SAAxB,GAAoC,WAAvD;;AAEA,QAAMC,gBAAgB,GAAG,CAACC,KAAD,EAAQL,UAAR,KAAuB;AAC5CK,IAAAA,KAAK,CAACC,eAAN;AACA,UAAMH,SAAS,GAAGI,QAAQ,CAACC,aAAT,CAAwB,SAAQR,UAAW,EAA3C,EAA8CS,SAAhE;;AACA,QAAIV,WAAW,CAACW,QAAZ,CAAqBV,UAArB,CAAJ,EAAsC;AAClC,YAAMW,aAAa,GAAGZ,WAAW,CAACa,MAAZ,CAAoBC,IAAD,IAAU;AAC/C,eAAOA,IAAI,KAAKb,UAAhB;AACH,OAFqB,CAAtB;AAGAG,MAAAA,SAAS,CAACW,MAAV,CAAiB,aAAjB;AACAX,MAAAA,SAAS,CAACY,GAAV,CAAc,WAAd;AACAjB,MAAAA,WAAW,CAACa,aAAD,CAAX;AACH,KAPD,MAOO;AACHR,MAAAA,SAAS,CAACW,MAAV,CAAiB,WAAjB;AACAX,MAAAA,SAAS,CAACY,GAAV,CAAc,aAAd;AACAjB,MAAAA,WAAW,CAAC,CAAC,GAAGC,WAAJ,EAAiBC,UAAjB,CAAD,CAAX;AACH;AACJ,GAfD,CALoB,CAsBpB;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,sBACI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAG,aAAYA,UAAW,IAAGE,UAAW,EAAtD;AACI,IAAA,OAAO,EAAGc,CAAD,IAAOZ,gBAAgB,CAACY,CAAD,EAAIpB,KAAK,CAACK,MAAV,CADpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AAMH,CAnDD;;AAqDA,eAAeN,IAAf","sourcesContent":["import React, { useContext } from 'react'\nimport MovieContext from \"../contexts/MovieContext\"\n\nimport './styles/Seat.css'\n\nconst Seat = (props) => {\n    const { movie, changeState, chosenSeats } = useContext(MovieContext)\n    const seatNumber = props.seatno\n    const seatStatus = props.seatColor ? props.seatColor : \"seat-grey\"\n\n    const seatClickHandler = (event, seatNumber) => {\n        event.stopPropagation()\n        const seatColor = document.querySelector(`.seat-${seatNumber}`).classList\n        if (chosenSeats.includes(seatNumber)) {\n            const newMovieSeats = chosenSeats.filter((seat) => {\n                return seat !== seatNumber\n            })\n            seatColor.remove(\"seat-orange\")\n            seatColor.add(\"seat-grey\")\n            changeState(newMovieSeats)\n        } else {\n            seatColor.remove(\"seat-grey\")\n            seatColor.add(\"seat-orange\")\n            changeState([...chosenSeats, seatNumber])\n        }\n    }\n\n    // const { movies } = useContext(MovieContext)\n    // const context = useContext(MovieContext)\n\n    // const seatNumber = props.seatno\n    // const seatStatus = props.seatColor ? props.seatColor : \"seat-grey\"\n\n    // const seatClickHandler = (event, seatNumber) => {\n    //     event.stopPropagation()\n    //     const seatColor = document.querySelector(`.seat-${seatNumber}`).classList\n    //     if (movies.seatNumbers.includes(seatNumber)) {\n    //         const newMovieSeats = movies.seatNumbers.filter((seat) => {\n    //             return seat !== seatNumber\n    //         })\n    //         seatColor.remove(\"seat-orange\")\n    //         seatColor.add(\"seat-grey\")\n    //         context.changeState({ ...movies, seatNumbers: newMovieSeats, totalSeats: movies.totalSeats - 1 })\n    //     } else {\n    //         seatColor.remove(\"seat-grey\")\n    //         seatColor.add(\"seat-orange\")\n    //         context.changeState({ ...movies, seatNumbers: [...movies.seatNumbers, seatNumber], totalSeats: movies.totalSeats + 1 })\n    //     }\n    // }\n\n    return (\n        <div className=\"col-2 col-md-2\">\n            <div className={`seat seat-${seatNumber} ${seatStatus}`}\n                onClick={(e) => seatClickHandler(e, props.seatno)} />\n        </div>\n    )\n}\n\nexport default Seat"]},"metadata":{},"sourceType":"module"}