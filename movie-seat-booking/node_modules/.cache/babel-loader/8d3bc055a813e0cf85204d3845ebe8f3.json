{"ast":null,"code":"var _jsxFileName = \"/home/tuyen/term_project/movie-seat-booking/src/MyOrders.js\";\nimport React, { useState, useEffect } from \"react\";\n\nconst axios = require('axios');\n\nconst MyOrders = () => {\n  const username = window.localStorage.getItem(\"username\");\n  const [loading, setLoading] = useState(true);\n  const [orders, setOrders] = useState([]);\n  const [score, setScore] = useState();\n  useEffect(() => {\n    //call api to get orders by username\n    axios.get('http://127.0.0.1:7897/order', {\n      params: {\n        username: username\n      }\n    }).then(function (res) {\n      if (res.status == 200) {\n        setOrders(res.data);\n        setLoading(false);\n      } else {\n        console.log(res.status);\n      }\n    }); // let sampleOrders = [\n    //     {\n    //         username: \"thao\",\n    //         movie: \"Avenger\",\n    //         chosenSeats: [1, 2, 3],\n    //         status: \"unpaid\"\n    //     },\n    //     {\n    //         username: \"thao\",\n    //         movie: \"Batman\",\n    //         chosenSeats: [11, 12, 13],\n    //         status: \"paid\"\n    //     }\n    // ]\n    //setLoading(false)\n    //setOrders(sampleOrders)\n  }, []);\n  useEffect(() => {\n    //call api to get orders by username\n    axios.get('http://127.0.0.1:7897/score', {\n      params: {\n        username: username\n      }\n    }).then(function (res) {\n      if (res.status == 200) {\n        setScore(res.data);\n      } else {\n        console.log(res.status);\n      }\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"payment-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"My Orders\"), !loading && orders.map(order => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"payment-title-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 37\n      }\n    }, order.movie), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 37\n      }\n    }, \"Chosen seats: \", order.chosenSeats.toString()));\n  }), /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"payment-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"My Discount Score\"), !loading && orders.map(order => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"payment-title-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 37\n      }\n    }, order.movie), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 37\n      }\n    }, \"Chosen seats: \", order.chosenSeats.toString()));\n  })));\n};\n\nexport default MyOrders;","map":{"version":3,"sources":["/home/tuyen/term_project/movie-seat-booking/src/MyOrders.js"],"names":["React","useState","useEffect","axios","require","MyOrders","username","window","localStorage","getItem","loading","setLoading","orders","setOrders","score","setScore","get","params","then","res","status","data","console","log","map","order","movie","chosenSeats","toString"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nconst axios = require('axios');\n\nconst MyOrders = () => {\n    const username = window.localStorage.getItem(\"username\")\n    const [loading, setLoading] = useState(true);\n    const [orders, setOrders] = useState([]);\n    const [score,setScore]=useState()\n    useEffect(() => {\n        //call api to get orders by username\n        axios.get('http://127.0.0.1:7897/order', {\n            params: {\n                username:username\n            }\n        })\n            .then(function (res) {\n                if (res.status == 200) {                    \n                    setOrders(res.data)\n                    setLoading(false)\n                } else {\n                    console.log(res.status)\n                }\n        })\n        // let sampleOrders = [\n        //     {\n        //         username: \"thao\",\n        //         movie: \"Avenger\",\n        //         chosenSeats: [1, 2, 3],\n        //         status: \"unpaid\"\n        //     },\n        //     {\n        //         username: \"thao\",\n        //         movie: \"Batman\",\n        //         chosenSeats: [11, 12, 13],\n        //         status: \"paid\"\n        //     }\n        // ]\n        //setLoading(false)\n        //setOrders(sampleOrders)\n\n    }, []);\n\n    useEffect(() => {\n        //call api to get orders by username\n        axios.get('http://127.0.0.1:7897/score', {\n            params: {\n                username:username\n            }\n        })\n            .then(function (res) {\n                if (res.status == 200) {                    \n                    setScore(res.data)\n                } else {\n                    console.log(res.status)\n                }\n        })\n\n    }, []);\n    return (\n        <div className=\"payment-container\">\n            <div className=\"payment\">\n                <h4 className=\"payment-title\">My Orders</h4>\n                {\n                    !loading && (\n                        orders.map(order => {\n                            return (\n                                <>\n                                    <h5 className=\"payment-title-2\">{order.movie}</h5>\n                                    <h6>Chosen seats: {order.chosenSeats.toString()}</h6>\n                                </>\n                            )\n                        })\n                    )\n                }\n                <h6 className=\"payment-title\">My Discount Score</h6>\n                {\n                    !loading && (\n                        orders.map(order => {\n                            return (\n                                <>\n                                    <h5 className=\"payment-title-2\">{order.movie}</h5>\n                                    <h6>Chosen seats: {order.chosenSeats.toString()}</h6>\n                                </>\n                            )\n                        })\n                    )\n                }\n            </div>\n        </div >\n    )\n}\n\nexport default MyOrders\n"]},"metadata":{},"sourceType":"module"}